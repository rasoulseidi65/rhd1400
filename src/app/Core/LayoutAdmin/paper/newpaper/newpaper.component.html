<p-toast position="top-center" class="text-center"></p-toast>

<form [formGroup]="userform" (ngSubmit)="onSubmit(userform.value)">
  <p-panel header="فرم ثبت مشخصات مقاله">
    <div class="ui-grid ui-grid-responsive ui-grid-pad ui-fluid" style="margin: 10px 0px">
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          عنوان مقاله <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <input pInputText type="text" formControlName="title" placeholder=""/>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="نام مقاله را وارد نمائید" *ngIf="!userform.controls['title'].valid&&userform.controls['title'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          نام نویسنده <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <input pInputText type="text" formControlName="author" placeholder=""/>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="خلاصه مقاله" *ngIf="!userform.controls['author'].valid&&userform.controls['author'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          خلاصه مقاله <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <textarea pInputTextarea type="text" formControlName="abstract"></textarea>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="خلاصه مقاله" *ngIf="!userform.controls['abstract'].valid&&userform.controls['abstract'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          تاریخ <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <dp-date-picker
            dir="rtl"
            formControlName="date"
            mode="day"
            theme="dp-material">
          </dp-date-picker>
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="تاریخ را وارد نمائید" *ngIf="!userform.controls['date'].valid&&userform.controls['date'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          زمان <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-6">
          <dp-date-picker
            dir="rtl"
            formControlName="time"
            mode="time"
            theme="dp-material">
          </dp-date-picker>
          <!--          <input pInputText type="text" formControlName="time" placeholder=""/>-->
        </div>
        <div class="ui-grid-col-4">
          <p-message severity="error" text="تاریخ را وارد نمائید" *ngIf="!userform.controls['time'].valid&&userform.controls['time'].dirty"></p-message>
        </div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2">
          تصویر <label style="color: red">*</label>:
        </div>
        <div class="ui-grid-col-8">
          <p-fileUpload name="myfile[]" customUpload="true"
                        invalidFileSizeMessageDetail="حداکثر سایز عکس 2 مگابایت می باشد"
                        invalidFileSizeMessageSummary="اندازه فایل بیش از حد مجاز می باشد"
                        multiple="multiple"
                        accept="image/jpeg,image/png " maxFileSize="2000000"
                        (uploadHandler)="onUpload($event)" uploadLabel="آپلود عکس" chooseLabel="انتخاب عکس"
                        cancelLabel="انصراف"></p-fileUpload>
        </div>
        <div class="ui-grid-col-2">
        </div>
      </div>
      <div class="ui-grid-row" style="margin-bottom:8rem">
        <div class="ui-grid-col-2">
          جزئیات مقاله:
        </div>
        <div class="ui-grid-col-8">
          <quill-editor formControlName="detail"></quill-editor>

        </div>
        <div class="ui-grid-col-2"></div>
      </div>
      <div class="ui-grid-row">
        <div class="ui-grid-col-2"></div>
        <div class="ui-grid-col-6">
          <button pButton type="submit" label="ثبت مقاله" [disabled]="!userform.valid"></button>
        </div>
        <div class="ui-grid-col-4"></div>
      </div>

    </div>
  </p-panel>
</form>

